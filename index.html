<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clatter Background</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background-color: #000;
            overflow: auto;
        }

        /* Unity header */
        #unity-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 700px;
            z-index: 5;
        }

        #unity-canvas {
            width: 100%;
            height: 100%;
            background-color: transparent;
            display: block;
            z-index: 5;
            pointer-events: auto;
        }

        .background-container {
            position: relative;
            width: 100%;
            height: 800px; /* set the height you want for the background */
            overflow: hidden; /* clip any overflowing part of the image */
        }

        .background-image {
            width: 100%;
            height: 100%;
            object-fit: cover; /* preserves aspect ratio and fills the container */
            display: block;
        }

        .top-gradient {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 300px;
            background: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
            pointer-events: none;
        }

        /* Screenshot section */
        .screenshot-section {
            position: absolute;
            top: 250px;
            left: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 100;
        }

        .screenshot-wrapper {
            position: relative;
            display: inline-block;
        }

        .screenshot-section img {
            height: 400px;
            width: auto;
            border-radius: 12px;
            box-shadow: 0 4px 50px rgba(0,0,0,1);
            margin-bottom: 15px;
            display: block;
        }

        /* Clickable left/right areas */
        .click-left, .click-right {
            position: absolute;
            top: 0;
            height: 100%;
            width: 50%;
            cursor: pointer;
        }
        .click-left { left: 0; }
        .click-right { right: 0; }

        /* Arrows */
        .click-left::after, .click-right::after {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .click-left:hover::after {
            opacity: 0.8;
            left: 10px;
            background-image: url('assets/images/arrow-left.png'); /* left arrow */
        }

        .click-right:hover::after {
            opacity: 0.8;
            right: 10px;
            background-image: url('assets/images/arrow-right.png'); /* right arrow */
        }

        /* Pagination dots */
        .carousel-dots {
            display: flex;
            gap: 12px;
        }

        .carousel-dots .dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: background 0.2s;
        }

        .carousel-dots .dot.active {
            background: rgba(255, 255, 255, 1);
        }
    </style>
</head>
<body>
<div class="background-container">
    <img src="assets/images/BackgroundDieGrid.png" alt="Background" class="background-image" />
    <div class="top-gradient"></div>

    <!-- Unity header -->
    <div id="unity-header">
        <canvas id="unity-canvas"></canvas>
    </div>

    <!-- Screenshot Section -->
    <section class="screenshot-section">
        <div class="screenshot-wrapper">
            <img id="main-screenshot" src="assets/images/screenshot 1.png" alt="Gameplay Screenshot">

            <!-- Left/right clickable areas -->
            <div class="click-left" id="click-left"></div>
            <div class="click-right" id="click-right"></div>
        </div>

        <!-- Pagination dots -->
        <div class="carousel-dots" id="carousel-dots">
        </div>
    </section>
</div>

<!-- Unity Loader -->
<script src="build/Web Build 1.loader.js"></script>
<script>
    const canvas = document.querySelector("#unity-canvas");
    canvas.addEventListener("wheel", (e) => {
        window.scrollBy({ top: e.deltaY, behavior: "auto" });
    });

    createUnityInstance(canvas, {
        dataUrl: "build/Web Build 1.data.unityweb",
        frameworkUrl: "build/Web Build 1.framework.js.unityweb",
        codeUrl: "build/Web Build 1.wasm.unityweb",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "YourCompany",
        productName: "Clatter",
        productVersion: "1.0",
        backgroundColor: { r:0,g:0,b:0,a:0 },
        webGLContextAttributes: { alpha: true, preserveDrawingBuffer: false }
    }).then(unityInstance => { console.log("Unity WebGL loaded!"); })
        .catch(err => { console.error(err); });
</script>

<!-- Screenshot Pagination JS -->
<script>
    const screenshots = [
        "assets/images/screenshot 1.png",
        "assets/images/screenshot 2.png",
        "assets/images/screenshot 3.png",
        "assets/images/screenshot 4.png",
        "assets/images/screenshot 5.png"
    ];

    const mainScreenshot = document.getElementById("main-screenshot");
    const carouselDots = document.getElementById("carousel-dots");
    const clickLeft = document.getElementById("click-left");
    const clickRight = document.getElementById("click-right");
    let currentIndex = 0;

    // Generate dots
    screenshots.forEach((_, i) => {
        const dot = document.createElement("div");
        dot.classList.add("dot");
        if (i === 0) dot.classList.add("active");
        dot.addEventListener("click", () => {
            currentIndex = i;
            updateScreenshot();
        });
        carouselDots.appendChild(dot);
    });

    function updateScreenshot() {
        mainScreenshot.src = screenshots[currentIndex];
        const dots = carouselDots.querySelectorAll(".dot");
        dots.forEach((dot, i) => dot.classList.toggle("active", i === currentIndex));
    }

    // Left/right clickable areas
    clickLeft.addEventListener("click", () => {
        currentIndex = (currentIndex - 1 + screenshots.length) % screenshots.length;
        updateScreenshot();
    });

    clickRight.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % screenshots.length;
        updateScreenshot();
    });
</script>

</body>
</html>
